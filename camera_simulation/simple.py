#!/usr/bin/env python
from numarray import *
from matplotlib.matlab import *
import fit_params

print "==========================================================="
print "==========================================================="

plot_flag = 1

for i in range(1,9):
    X = zeros((8,8),type=UInt8)
    if i == 1:
        X[4:7,2:7]=200
        X[5,1]=193
        X[5,7] = 255
    elif i == 2:
        X[2:7,1:4]=200
        X[1,2]=193
        X[7,2] = 255
    elif i == 3:
        X[2:7,1:4]=200
        X[1,2]=193
        X[7,1] = 255
    elif i == 4:
        X[2:7,1:4]=200
        X[1,3]=193
        X[7,1] = 255
    elif i == 5:
        X[2:7,1:4]=200
        X[1,3]=193
        X[7,0] = 255
    elif i == 6:
        X[2:7,1:4]=200
        X[1,4]=193
        X[7,0] = 255
    elif i == 7:
        X[2:7,1:4]=200
        X[1,3]=200
        X[7,1]=200
        X[1,4]=193
        X[7,0] = 255
    elif i == 8:
        X[2:7,1:4]=200
        X[1,3]=200
        X[7,1]=200
        X[2,1]=0
        X[6,3]=0
        X[1,4]=193
        X[7,0] = 255
    elif i == 9:
        X[1:4,6]=200
        X[2:5,5]=200
        X[3:6,4]=200
        X[4:7,3]=200
    elif i == 10:
        X[1:4,6]=200
        X[2:5,5]=200
        X[3:6,4]=200
        X[4:7,3]=200
        X[7,3]=193
        X[0,6] = 255
    elif i == 11:
        X[1:5,5]=200
        X[3:7,4]=200
        X[7,4]=193
        X[0,5] = 255
    elif i == 12:
        X[0:2,6]=200
        X[1:5,5]=200
        X[3:7,4]=200
        X[6:8,3]=200
        X[7,4]=193
        X[0,5] = 255
    elif i == 13:
        X[0:4,6]=200
        X[1:5,5]=200
        X[3:7,4]=200
        X[4:8,3]=200
        X[7,4]=193
        X[0,5] = 255
    elif i == 14:
        X[0:4,6]=200
        X[1:5,5]=200
        X[2:6,4]=200
        X[3:7,3]=200
        X[1,7]=193
        X[5,2] = 255
    elif i == 15:
        X[3:5,7]=200
        X[1:5,6]=200
        X[2:5,5]=200
        X[3:6,4]=200
        X[4:7,3]=200
        X[4:6,2]=200
        X[4,1]=193
        X[5,7] = 255
    elif i == 16:
        X[2:4,7]=200
        X[2:6,6]=200
        X[2:5,5]=200
        X[1:4,4]=200
        X[0:3,3]=200
        X[1:3,2]=200
        X[2,1]=193
        X[1,7] = 255

    print X,i

    x0,y0,slope=fit_params.fit_params(X)
    print i,'x0,y0',x0,y0
    print 'slope',slope

    if plot_flag:
        imshow(X,origin='lower',interpolation='nearest')
        dy = 1.0
        if slope == 0.0:
            dy = 0.0
            dx = 1.0
        else:
            dx = dy/slope
        plot( [x0-dx,x0,x0+dx],[y0-dy,y0,y0+dy], 'ko-')
        show()
